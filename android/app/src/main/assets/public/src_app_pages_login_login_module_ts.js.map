{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.ts","./src/app/pages/login/login.html","./src/app/services/auth.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginPage } from './login';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { NavController } from '@ionic/angular';\n\nimport { LoginPage } from './login';\nimport { LoginPageRoutingModule } from './login-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [\n    LoginPage,\n  ]\n})\nexport class LoginModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { NavController, NavParams, ModalController, ToastController } from '@ionic/angular';\nimport { FormBuilder, FormGroup, NgForm, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { UserData } from '../../providers/user-data';\n\nimport { UserOptions } from '../../interfaces/user-options';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { AuthService } from '../../services/auth.service';\n\n\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n  styleUrls: ['./login.scss'],\n})\nexport class LoginPage implements OnInit{\n  //login: UserOptions = { username: '', password: '' };\n  //submitted = false;\n\n  credentials: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private alertController: AlertController,\n\t\tprivate loadingController: LoadingController,\n    private authService: AuthService,\n    public userData: UserData,\n    public router: Router\n  ) { }\n\n  //Easy access for form fields\n  get email(){\n    return this.credentials.get('email');\n  }\n\n  get password(){\n    return this.credentials.get('password');\n  }\n\n  ngOnInit(){\n    this.credentials = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  async register() {\n\t\tconst loading = await this.loadingController.create();\n\t\tawait loading.present();\n\n\t\tconst user = await this.authService.register(this.credentials.value);\n\t\tawait loading.dismiss();\n\n\t\tif (user) {\n\t\t\tthis.router.navigateByUrl('/signup', { replaceUrl: true });\n\t\t} else {\n\t\t\tthis.showAlert('Registration failed', 'Please try again!');\n\t\t}\n\t}\n\n\tasync login() {\n\t\tconst loading = await this.loadingController.create();\n\t\tawait loading.present();\n\n\t\tconst user = await this.authService.login(this.credentials.value);\n\t\tawait loading.dismiss();\n\n\t\tif (user) {\n\t\t\tthis.router.navigateByUrl('/app/tabs/schedule', { replaceUrl: true });\n\t\t} else {\n\t\t\tthis.showAlert('Login failed', 'Please try again!');\n\t\t}\n\t}\n\n  async showAlert(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n  }\n\n  // onLogin(form: NgForm) {\n    // this.submitted = true;\n\n    // if (form.valid) {\n      // this.userData.login(this.login.username);\n      // this.router.navigateByUrl('/app/tabs/schedule');\n    // }\n  // }\n\n  // onSignup() {\n    // this.router.navigateByUrl('/signup');\n  // }\n}\n","<ion-content>\n<div class=\"heading\">\n  <h1>Login</h1>\n  <p>Please login to continue.</p>\n</div>\n  <div class=\"social-login\">\n    <p>Enter through social networks</p>\n    <div class=\"links\">\n      <ion-button class=\"google\" routerLink=\"/app/tabs/schedule\">\n        <ion-icon name=\"logo-google\"></ion-icon>\n      </ion-button>\n      <ion-button class=\"facebook\" routerLink=\"/app/tabs/schedule\">\n        <ion-icon name=\"logo-facebook\"></ion-icon>\n      </ion-button>\n    </div>\n  </div>\n\n\n  <form (ngSubmit)=\"login()\" [formGroup]=\"credentials\">\n  <div class=\"email-login\">\n    <p>Or login with email</p>\n    <div class=\"formfield\">\n      <input type=\"email\" formControlName=\"email\" name=\"email\" id=\"email\">\n      <label for=\"email\" placeholder=\"Email\">Email</label>\n      <ion-note slot=\"error\" *ngIf=\"(email.dirty || email.touched) && email.errors\"\n      >Email is invalid</ion-note>\n    </div>\n    <div class=\"formfield\">\n      <input type=\"password\" formControlName=\"password\" name=\"password\" id=\"password\">\n      <label for=\"password\" placeholder=\"Password\">Password</label>\n      <ion-note slot=\"error\" *ngIf=\"(password.dirty || password.touched) && password.errors\"\n      >Password needs to be 6 characters</ion-note>\n    </div>\n    <div class=\"other-links\">\n      <div class=\"remember-me\">\n        <ion-checkbox></ion-checkbox>\n        <p>Remember Me</p>\n      </div>\n      <p class=\"forgot\">Forgot Password</p>\n    </div>\n  </div>\n  <div class=\"login-button\">\n    <ion-button type=\"submit\" class=\"login\" [disabled]=\"!credentials.valid\">Login</ion-button>\n    <p>Don't have an account?<span routerLink=\"/signup\">  Signup</span><p>\n    </div>\n  </form>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { Auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from '@angular/fire/auth';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(private auth:Auth) { }\n\n  async register({ email, password }){\n    try {\n      const user = await createUserWithEmailAndPassword(\n        this.auth,\n        email,\n        password\n        );\n        return user;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  async login({ email, password }){\n    try {\n      const user = await signInWithEmailAndPassword(\n        this.auth,\n        email,\n        password\n        );\n        return user;\n    } catch (e) {\n      return null;\n    }\n  }\n  logout() {\n    return signOut(this.auth);\n  }\n}\n"],"names":["RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","forChild","imports","i1","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","LoginModule","declarations","FormBuilder","FormGroup","Validators","Router","UserData","AlertController","LoadingController","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","constructor","fb","alertController","loadingController","authService","userData","router","email","credentials","get","password","ngOnInit","group","required","minLength","register","_this","_asyncToGenerator","loading","create","present","user","value","dismiss","navigateByUrl","replaceUrl","showAlert","login","_this2","header","message","_this3","alert","buttons","ɵɵdirectiveInject","i2","i3","i4","i5","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginPage_Template_form_ngSubmit_14_listener","ɵɵtemplate","LoginPage_ion_note_22_Template","LoginPage_ion_note_27_Template","ɵɵadvance","ɵɵproperty","dirty","touched","errors","valid","Auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","auth","e","logout","ɵɵinject","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}